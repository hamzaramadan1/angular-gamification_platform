<body>
  <div class="container">
    <div class="frame">
      <div class="left">
        <h1 class="text-center">Bienvenue</h1>
        <form #f="ngForm" (ngSubmit)="f.form.valid && login()" style="position: relative;">

          <div class="error-message" *ngIf="errorMessage" style="position: absolute;">
            {{errorMessage}}
          </div>

          <div class="form-group" style="position: relative;">
            <label for="username"></label>
            <div class="position-relative">
              <input
                type="text"
                id="username"
                name="username"
                placeholder="Username"
                [(ngModel)]="user.username"
                #username="ngModel"
                class="form-control"
                [pattern]="usernamePattern"
                required
              >
              <fa-icon [icon]="faUser" class="position-absolute end-0 top-50 translate-middle-y me-2 user-icon"></fa-icon>
            </div>
            <div *ngIf="!username.valid && (username.dirty || username.touched)">
              <div class="error-message" *ngIf="username.errors?.['required']" style="position: absolute; top: 10vh;">
                Nom de compte requis.
              </div>
              <div class="error-message" *ngIf="username.errors?.['pattern']" style="position: absolute; top: 10vh;">
                Format de nom de compte invalide.
              </div>
            </div>
          </div>

          <div class="form-group" style="position: relative;">
            <label for="password"></label>
            <div class="position-relative">
              <input
                type="password"
                id="password"
                name="password"
                placeholder="Password"
                [(ngModel)]="user.password"
                #password="ngModel"
                class="form-control"
                required
              >
              <fa-icon [icon]="faLock" class="position-absolute end-0 top-50 translate-middle-y me-2 lock-icon"></fa-icon>
            </div>
            <div class="error-message" *ngIf="!password.valid && (password.dirty || password.touched)" style="position: absolute; top: 10vh;">
              Mot de passe requis.
            </div>
          </div>

          <button id="button_se_connecter" type="submit" class="btn btn-outline-warning w-100 mt-3">
            Se connecter
          </button>

        </form>
        <p class="mt-3 mb-0 small">Vous n'avez pas de compte ?<a [routerLink]="['/register']" class="fw-bold" style="color: white">Inscrivez-vous !</a></p>
      </div>
      <div class="right">
        <img src="../assets/Sans_titre__1_-removebg-preview.png" alt="cap_logo">
        <h2 id="title_connexion" style="margin-top: 70%">Connexion</h2>
      </div>
    </div>
  </div>
</body>
